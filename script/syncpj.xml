  
<project basedir="." default="copy_to">

   <property environment="env"/>

   <property 
      name="base" 
      value=".."/>
   
   <target name="copy">

     <echo message="Syncing files from '${pjproj}'"/>  

     <copy todir="${base}" verbose="true" includeEmptyDirs="false" >
         <fileset dir="${pjproj}">
             <include name="**\*"/>
             <exclude name="**\build\**"/>
             <exclude name="**\.svn\**"/>
             <exclude name="**\dep\**"/>
             <exclude name="**\obj\**"/>
             <exclude name="**\.vs\**"/>
         </fileset>
     </copy>

  </target>
   
   <target name="copy_to">
            
        <echo message="Syncing files to '${pjproj}'"/>  

        <copy todir="${pjproj}" verbose="true" includeEmptyDirs="false" >
            <fileset dir="${base}">
                <include name="**\*"/>
                <exclude name="**\build\**"/>
                <exclude name="**\dep\**"/>
                <exclude name="**\obj\**"/>
                <exclude name="**\.vs\**"/>
                <exclude name="**\node_modules\**"/>
                <exclude name="**\syncpj.xml"/>
                <exclude name="package.json"/>
                <exclude name="azure-pipelines.yml"/>
                <exclude name="CHANGELOG.md"/>
                <exclude name="README.md"/>
                <exclude name="LICENSE.txt"/>
                <exclude name=".gitignore"/>
            </fileset>
        </copy>

         <echo message="Launching Tortoise SVN commit wizard"/>

        <exec executable="${env.CODE_HOME}\tortoisesvn\bin\TortoiseProc.exe" >
           <arg line="/command:commit /path:${pjproj}" />
        </exec>

     </target>
   
</project>

